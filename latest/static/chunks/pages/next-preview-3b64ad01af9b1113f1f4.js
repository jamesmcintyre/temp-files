(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{6973:function(e,t,n){"use strict";n.d(t,{g:function(){return d}});var r=n(1163),i=n(7294),a=n(502),o=n(1507),u=n(6055),s=n(1854),l=n(5893);function c(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t=e.children,n=e.filterOptions,f=(0,r.useRouter)(),d=(0,i.useState)(0),p=d[0],v=d[1],y=(0,i.useState)(!1),w=y[0],g=y[1],h=(0,i.useState)(!1),b=h[0],m=h[1],S=(0,i.useState)(!1),C=S[0],O=S[1],_=(0,i.useState)((0,s.a2)({query:f.query,filterOptions:n})),E=_[0],j=_[1],x=(0,i.useCallback)((function(e){j(e);var t,n=0,r=c(e.values());try{for(r.s();!(t=r.n()).done;){n+=t.value.length}}catch(d){r.e(d)}finally{r.f()}var i="/contacts",a=(0,o.t)(e);if(1===n){var u,s=c(e.values());try{for(s.s();!(u=s.n()).done;){var l=u.value;l.length&&(i+="/".concat(l[0].facetValue.toLowerCase()))}}catch(d){s.e(d)}finally{s.f()}a={}}f.replace({pathname:i,query:a},void 0,{shallow:!0})}),[j,f]),M=(0,i.useMemo)((function(){return(0,u.oM)(E)}),[E]),k=(0,i.useMemo)((function(){return{isOverlayFilterOpen:b,setIsOverlayFilterOpen:m,isCollapsibleFilterOpen:C,setIsCollapsibleFilterOpen:O,selectedFiltersMap:E,setSelectedFilters:x,onlyPopularBrandsFiltered:M,numberOfResults:p,setNumberOfResults:v,isLoading:w,setIsLoading:g}}),[b,m,C,O,E,x,M,p,v,w,g]);return(0,l.jsx)(a.R.Provider,{value:k,children:t})}},2653:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return l},service:function(){return c},NextPreviewPage:function(){return p}});var r=n(7294),i=n(7532),a=n(9938),o=n(4449),u=n(6973),s=n(5893),l=!0,c="WarbyCMS",f=function(e){var t=e.onClick,n=e.children;return(0,s.jsx)(a.z,{css:{display:"none",position:"absolute",top:"5%",right:"20px",transition:"all 0.4s ease-in-out 0s",opacity:.5,transform:"scale(0.9, 0.9)","&:hover":{opacity:1,transform:"scale(1, 1)"}},onClick:t,children:n})},d=(0,o.zo)("div",{position:"relative","&:hover > button":{display:"block"}}),p=function(){var e=(0,r.useState)(null),t=e[0],n=e[1],a=function(e){if(function(e){var t=e.data;return"object"===typeof t&&("page"===t.type||"widget"===t.type)&&t.service===c&&"admin"===t.client}(e)){var t=e.data,r=t.type,i=t.editable,a=void 0!==i&&i,o="page"===e.data.type?e.data.payload.widgets:[e.data.payload];n({type:r,widgets:o,editable:a})}};if((0,r.useEffect)((function(){window.addEventListener("message",a);return window.parent.postMessage({client:"preview",service:"WarbyCMS",type:"ready"},"*"),function(){return window.removeEventListener("message",a)}}),[]),!t)return null;var o=t.widgets.find((function(e){return"toolbar"===e.type}));return(0,s.jsx)(s.Fragment,{children:t.widgets.map((function(e){var n;return(0,s.jsxs)(d,{children:[t.editable&&(0,s.jsx)(f,{onClick:function(){return function(e){var t={client:"preview",payload:{widgetId:e},service:"WarbyCMS",type:"edit"};window.parent.postMessage(t,"*")}(e.id)},children:"Edit"}),(0,s.jsx)(u.g,{filterOptions:null!==(n=null===o||void 0===o?void 0:o.config.tabs)&&void 0!==n?n:[],children:(0,i.G)(e)})]},e.id)}))})};t.default=p},1507:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});var r=function(e){if(0!==e.size){var t={};return e.forEach((function(e,n){if(0!==e.length){var r=n.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,"");t[r]=e.map((function(e){return e.query.split("=")[1].toLowerCase()}))}})),t}}},1043:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/next-preview",function(){return n(2653)}])}},function(e){e.O(0,[643,213,123,532,774,888,179],(function(){return t=1043,e(e.s=t);var t}));var t=e.O();_N_E=t}]);