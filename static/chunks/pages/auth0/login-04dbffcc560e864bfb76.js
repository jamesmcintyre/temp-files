(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{3072:function(e,t,r){"use strict";r.d(t,{j:function(){return s}});var n=r(5353),o=r(4449),a=r(5893),i=(0,o.zo)("div",{padding:"12px 16px",borderRadius:"12px",textAlign:"center",variants:{fullWidth:{true:{width:"100%"}},type:{alert:{backgroundColor:"$supportLightBlue",border:"1px solid $colors$coreBluesBlue"},warning:{backgroundColor:"$supportLightOrange",border:"1px solid $colors$supportOrange"},error:{backgroundColor:"$supportLightRed",border:"1px solid $colors$supportRed"}}},defaultVariants:{type:"alert"}}),s=function(e){var t=e.children,r=e.type,o=e.textSize,s=void 0===o?"medium":o,c=e.fullWidth;return(0,a.jsx)(i,{type:r,fullWidth:c,children:(0,a.jsx)(n.x.UIParagraph,{color:"inherit",size:s,children:t})})}},6650:function(e,t,r){"use strict";r.d(t,{f:function(){return d}});var n=r(4449),o=r(657),a=r(5893),i=(0,n.zo)("div",{position:"relative"}),s=(0,n.zo)("div",{width:"100%",height:"100%",position:"relative",transitionProperty:"opacity",transitionDuration:"0.2s"}),c=(0,n.zo)("div",{position:"absolute",height:"40px",width:"40px",top:"48px",left:"50%",transform:"translateX(-50%)"}),l=(0,n.F4)({from:{opacity:"0"},to:{opacity:"1"}}),u=(0,n.F4)({from:{opacity:"1"},to:{opacity:"0"}}),p=function(e){var t=e?"ease-in":"ease-out";return".2s ".concat(e?l:u," 1 normal forwards ").concat(t)},d=function(e){var t=e.isLoading,r=e.children,n=e.loadingOpacity,l=void 0===n?.2:n;return(0,a.jsxs)(i,{children:[(0,a.jsx)(c,{css:{animation:p(t)},children:(0,a.jsx)(o.$,{})}),(0,a.jsx)(s,{css:{backgroundColor:t?"white":"transparent",opacity:t?l:1,pointerEvents:t?"none":"initial"},children:r})]})}},5226:function(e,t,r){"use strict";r.d(t,{i:function(){return o}});var n=r(7294),o=function(){var e=(0,n.useState)({width:void 0,height:void 0}),t=e[0],r=e[1];return(0,n.useEffect)((function(){var e=function(){r({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t}},6168:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Yr}});var n=r(9008),o=r(1752),a=r(1163),i=r(7294),s=r(485),c=r(2848),l=r(4449),u=r(5471),p=r(5226),d=r(6650),g=r(3937),h=r(7466),f=r(3602),b=r(266),m=r(809),y=r.n(m);var v,w,x,k=r(2809),j=r(299);!function(e){e[e.Initial=0]="Initial",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.Error=3]="Error"}(v||(v={})),function(e){e[e.Initial=0]="Initial",e[e.Passwordless=1]="Passwordless",e[e.ChangePassword=2]="ChangePassword",e[e.ForgotPassword=3]="ForgotPassword",e[e.Login=4]="Login",e[e.Signup=5]="Signup"}(w||(w={})),function(e){e.Apple="apple",e.Google="google-oauth2"}(x||(x={}));var O=JSON.parse('{"icon":"https://s3-us-west-2.amazonaws.com/slack-files2/avatars/2021-07-19/2303776952929_2d115ec09bead69d00f8_132.png","assetsUrl":"","auth0Domain":"auth.stage.warby.io","auth0Tenant":"wp-auth-stage","clientConfigurationBaseUrl":"https://auth.stage.warby.io/","callbackOnLocationHash":false,"callbackURL":"https://www.stage.warby.io/auth0/callback","cdn":"https://cdn.auth0.com/","clientID":"qPIgGvA5ncxc0W1BzjXJpd2jDlIpy5Kc","dict":{"signin":{"title":"Ecom-WWW"}},"extraParams":{"protocol":"oauth2","audience":"https://wapi.warbyparker.com","country":"US","expP":"true","expR":"true","response_type":"code","scope":"openid public offline_access","_csrf":"CsH9uyEz-mm1I77YOou31aLDe6SrMZxkFm8k","_intstate":"deprecated","state":"hKFo2SBSU2oyc2lRejJOc2FpTndsYmt2aU5EbjgyczVrSG1lSKFupWxvZ2luo3RpZNkgU1lod0xQMHdwQzl0d3hNZGltTlQ0ZmdYUWNLM3A4UEWjY2lk2SBxUElnR3ZBNW5jeGMwVzFCempYSnBkMmpEbElweTVLYw"},"internalOptions":{"protocol":"oauth2","audience":"https://wapi.warbyparker.com","country":"US","expP":"true","expR":"true","response_type":"code","scope":"openid public offline_access","_csrf":"CsH9uyEz-mm1I77YOou31aLDe6SrMZxkFm8k","_intstate":"deprecated","state":"hKFo2SBSU2oyc2lRejJOc2FpTndsYmt2aU5EbjgyczVrSG1lSKFupWxvZ2luo3RpZNkgU1lod0xQMHdwQzl0d3hNZGltTlQ0ZmdYUWNLM3A4UEWjY2lk2SBxUElnR3ZBNW5jeGMwVzFCempYSnBkMmpEbElweTVLYw"},"widgetUrl":"https://cdn.auth0.com/w2/auth0-widget-5.2.min.js","isThirdPartyClient":false,"authorizationServer":{"url":"https://auth.stage.warby.io","issuer":"https://auth.stage.warby.io/"},"colors":{}}');function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var C,P,E=function(e){var t=e.authMethod,r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEX///+/v7+jQ3Y5AAAADklEQVQI12P4AIX8EAgALgAD/aNpbtEAAAAASUVORK5CYII",type:"code"},e.challenge||{});return'<div id="'.concat(t,'-captcha-challenge" data-challenge-type="').concat(r.type,'">\n    <img\n      id="').concat(t,'-captcha-img-elem"\n      alt="captcha-mock-img"\n      style="width: 150px; height: 50px;"\n      src="').concat(r.image,'"/>\n    </div>\n    <input\n      type="text"\n      name="captcha"\n      className="form-control captcha-control"\n    />')};function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var I=(null===(C=(0,o.default)())||void 0===C||null===(P=C.publicRuntimeConfig)||void 0===P?void 0:P.useAuth0LocalConfig)||!1,A={dbConnection:"wp-springfield-db",responseType:"code",windowConfigObject:"__AUTH0_CONFIG",hostedPageConfigKey:"@@config@@",captchaSigninExpKey:"expSC",captchaElementId:"-captcha-container",captchaImgElementId:"-captcha-img-elem",captchaChallengeId:"-captcha-challenge",captchaEnabledMethods:["login"],defaultClientId:"ob15Y84odQN4Q6X1BnsMNOAZnZNdGD9O"},D=function(e){var t,r,n;if(!e)return"";if(null!==e&&void 0!==e&&null!==(t=e.original)&&void 0!==t&&t.message)try{r=JSON.parse(e.original.message)}catch(o){console.log("Auth0 Error Response Does Not Contain JSON")}return r&&r.message&&(n=r.message),n||(null===e||void 0===e?void 0:e.code)||(null===e||void 0===e?void 0:e.policy)||(null===e||void 0===e?void 0:e.description)||""},L=function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,k.Z)(this,"getConfigFromAuth0",(function(){try{if(I)return O;var e,t=null===(e=window)||void 0===e?void 0:e[A.windowConfigObject];if("undefined"!==typeof t)return t}catch(r){return console.warn(r),null}return console.warn("Auth0SDK initialization likely attempted outside Auth0 Hosted Environment."),null})),(0,k.Z)(this,"initializeAuth0SDK",(function(e){var t=r.getConfigFromAuth0();if(t){var n=t.internalOptions.leeway;if(n){var o=parseInt(String(n),10);Number.isNaN(o)||(t.internalOptions.leeway=o)}var a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({overrides:{__tenant:t.auth0Tenant,__token_issuer:t.authorizationServer.issuer},domain:t.auth0Domain,clientID:t.clientID,redirectUri:t.callbackURL,responseType:e||A.responseType},t.internalOptions);r.clientId=t.clientID||A.defaultClientId,r.authSDK=new j.sO(a),r.renderAuth0Captcha()}})),(0,k.Z)(this,"login",(function(e){var t=e.email,n=e.password,o=e.captcha;return new Promise((function(e,a){if(r.authSDK||a(new Error("Login Attempted without Auth0.js SDK Initialized.")),r.authSDK&&"object"===typeof r.authSDK){var i={realm:r.dbConnection,username:t,password:n,onRedirecting:function(t){e({success:!0}),t()}};o&&(i.captcha=o);try{r.authSDK.login(i,(function(t){return e(t?{error:D(t)}:{success:!0})}))}catch(s){a(s)}}}))})),(0,k.Z)(this,"passwordlessStart",(function(e){return new Promise((function(t,n){if(!r.authSDK)return n(new Error("PasswordlessStart Attempted without Auth0.js SDK Initialized."));if("object"!==typeof r.authSDK)return n(new Error("PasswordlessStart Attempted with invalid authSDK."));try{var o;return null===(o=r.authSDK)||void 0===o?void 0:o.passwordlessStart({connection:"email",send:"link",email:e},(function(e){return t(e?{error:D(e)}:{success:!0})}))}catch(a){return n(a)}}))})),(0,k.Z)(this,"changePassword",(function(e){var t=e.email;return new Promise((function(e,n){if(r.authSDK||n(new Error("Change Password Attempted without Auth0.js SDK Initialized.")),r.authSDK&&"object"===typeof r.authSDK)try{r.authSDK.changePassword({connection:r.dbConnection,email:t},(function(t){return e(t?{error:D(t)}:{success:!0})}))}catch(o){n(o)}}))})),(0,k.Z)(this,"signup",(function(e){var t=e.email,n=e.password,o=e.firstName,a=e.lastName,i=e.country;return new Promise((function(e,s){if(r.authSDK||s(new Error("Signup Attempted without Auth0.js SDK Initialized.")),r.authSDK&&"object"===typeof r.authSDK)try{r.authSDK.redirect.signupAndLogin({connection:r.dbConnection,email:t,password:n,username:t,userMetadata:{first_name:o,last_name:a,country:i||"US",client_id:r.clientId},onRedirecting:function(t){e({success:!0}),t()}},(function(t){return e(t?{error:D(t)}:{success:!0})}))}catch(c){s(c)}}))})),(0,k.Z)(this,"socialSignIn",(function(e){var t=e.connection;try{if(!r.authSDK)throw new Error("SocialSignInResult Attempted without Auth0.js SDK Initialized.");if(t!==x.Google&&t!==x.Apple)throw new Error("SocialSignInResult Attempted with invalid or unsupported connection type.");if("object"!==typeof r.authSDK)throw new Error("Social sign in attempted with invalid authSDK.");r.authSDK.authorize({connection:t})}catch(n){console.warn(n)}})),(0,k.Z)(this,"getCaptchaElement",(function(){if(r.authSDK){var e="".concat(r.authMethod).concat(A.captchaElementId);return window.document.getElementById(e)}return null})),(0,k.Z)(this,"getCaptchaImageSrc",(function(){if(r.auth0Captcha){var e="".concat(r.authMethod).concat(A.captchaImgElementId),t=window.document.getElementById(e);if(t)return t.src}return null})),(0,k.Z)(this,"getCaptchaChallengeType",(function(){if(r.auth0Captcha){var e="".concat(r.authMethod).concat(A.captchaChallengeId),t=window.document.getElementById(e);if(t)return t.dataset.challengeType||null}return null})),(0,k.Z)(this,"renderAuth0Captcha",(function(){if(r.authSDK&&r.captchaEnabled){!function(e){var t=e.authMethod,r="".concat(t,"-captcha-top-container");if(!document.getElementById(r)){var n=window.document.createElement("div");n.style.display="none",n.id=r;var o=window.document.createElement("div");o.id="".concat(t,"-captcha-container"),o.classList.add("captcha-container"),n.appendChild(o),window.document.body.appendChild(n)}}({authMethod:r.authMethod});var e=r.getCaptchaElement();e&&(r.captchaPlaceholderElem=e,r.startCaptchaDOMListener(),r.captchaEnabled&&r.mockCaptcha?r.mockAuth0SDKCaptcha():r.auth0Captcha=r.authSDK.renderCaptcha(e,{templates:{auth0:function(e){return E({authMethod:r.authMethod,challenge:e})},error:function(){return'<div class="error">Error getting the bot detection challenge.</div>'}}}))}})),(0,k.Z)(this,"mockAuth0SDKCaptcha",(function(){r.auth0Captcha={reload:function(e){e()},getValue:function(){return""}};var e=E({authMethod:r.authMethod}),t=r.getCaptchaElement();t&&(t.innerHTML=e)})),(0,k.Z)(this,"reloadCaptcha",(function(){r.auth0Captcha&&r.auth0Captcha.reload&&r.auth0Captcha.reload((function(e){e&&console.warn(e)}))})),(0,k.Z)(this,"startCaptchaDOMListener",(function(){if(!!r.captchaPlaceholderElem){var e=new MutationObserver((function(){var e=r.getCaptchaImageSrc();r.captchaImgSrc!==e&&(r.captchaImgSrc=e,r.captchaType=r.getCaptchaChallengeType(),r.triggerCaptchaChangeCallback({attempts:0}))}));r.captchaPlaceholderElem&&e.observe(r.captchaPlaceholderElem,{attributes:!0,childList:!0,subtree:!0})}})),(0,k.Z)(this,"setCaptchaDOMListener",(function(e){r.captchaChangeCallback=e})),(0,k.Z)(this,"triggerCaptchaChangeCallback",(function(e){var t=e.attempts;return r.captchaChangeCallback?r.captchaChangeCallback({imgSrc:r.captchaImgSrc,isCode:"code"===r.captchaType}):t<30?setTimeout((function(){r.triggerCaptchaChangeCallback({attempts:t+1})}),150):null})),this.authSDK=null,this.dbConnection=A.dbConnection,this.auth0Captcha=null,this.captchaPlaceholderElem=null,this.captchaImgSrc=null,this.captchaType=null,this.captchaChangeCallback=null,this.authMethod=t&&t.authMethod,this.mockCaptcha=I;var n="true"===function(e){var t=window.location.search;return new URLSearchParams(t).get(e)||null}(A.captchaSigninExpKey),o=!!this.authMethod&&A.captchaEnabledMethods.includes(this.authMethod);this.captchaEnabled=n&&o,this.initializeAuth0SDK(null===t||void 0===t?void 0:t.responseType)},z=new L({responseType:"code"}),$=r(9491),B=JSON.parse('{"px":{"policyMap":[{"match":"pre_passwordless_custom_copy","copy":"It looks like you haven\'t logged into Warby Parker in a while. To access your account, you\u2019ll need to","postCTACopy":"Thank you!","ctaType":"default"},{"match":"post_passwordless_custom_copy","copy":"It looks like you haven\'t logged into Warby Parker in a while. To access your account, you\u2019ll need to","ctaType":"passwordlessLink"},{"match":"set up a password","copy":"It appears you haven\u2019t set up a password for your account yet.","ctaType":"createPassword"},{"match":"new_password_setup","copy":"You haven\'t created a password for this account yet.","ctaType":"passwordlessLink2"},{"match":"access_denied","copy":"The information you entered is incorrect. Try again or.","ctaType":"default"},{"match":"invalid_user_password","copy":"The information you entered is incorrect. Try again or","ctaType":"default"},{"match":"passwordless_link","copy":"Your email and/or password is incorrect. You can try again, or","ctaType":"passwordlessLink"},{"match":"too_many_attempts","copy":"You\u2019ve reached the maximum number of login attempts. Please","ctaType":"default"},{"match":"password_leaked","copy":"Your password needs to be reset. Please","ctaType":"default"},{"match":"invalid_signup","copy":"Looks like you already have an account. Sign in or","ctaType":"default"},{"match":"user_exists","copy":"Looks like you already have an account. Sign in or","ctaType":"default"},{"match":"username_exists","copy":"Looks like you already have an account. Sign in or","ctaType":"default"},{"match":"compromised","copy":"This password has been compromised on another site. To ensure the security of your Warby Parker account, please choose a different password.","ctaType":"default"},{"match":"invalid_password","copy":"This password is too weak. Please make sure the password is at least 8 characters in length.","ctaType":"default"},{"match":"default","copy":"Oops! Something went wrong, please try logging in again or","ctaType":"default"}],"ctaTypes":{"default":{"copy":"reset your password.","href":"/account/forgot-password"},"createPassword":{"copy":"reset your password.","href":"/account/forgot-password"},"passwordlessLink":{"copy":"sign in with a one-time-link.","href":"/account/passwordless-link"},"passwordlessLink2":{"copy":"Sign in with one-time link.","href":"/account/passwordless-link"}}},"id":{"policyMap":[{"match":"default","copy":"Oops! Something went wrong, please try again."}]},"TJ":{"J":"reset your password."},"sW":{"guestCheckout":{"headerText":"Continue to checkout","subHeaderText":"Easily track and manage your order (with the option to create an account later).","cta":{"type":"button","copy":"Continue as a guest","href":"/checkout/step"}},"signUpLinkPanel":{"headerText":"Create account","subHeaderText":"Easily save and manage your prescriptions, addresses, and payment information.","cta":{"type":"button","copy":"Create account","href":"/login?isSignup=true"}},"signInLinkPanel":{"headerText":"","subHeaderText":"","cta":{"type":"button","copy":"Sign in","href":"#"}},"signUp":{"headerText":"Create account","subHeaderText":"Easily save and manage your prescriptions, addresses, and payment information.","cta":{"type":"button","copy":"Create account"}},"signIn":{"headerText":"Sign in","subHeaderText":"Access your saved prescriptions, addresses, and payment information for a fast checkout.","cta":{"type":"text","copy":"Forgot password?"}},"forgotPassword":{"headerText":"Forgot your password?","subHeaderText":"No problem! We\u2019ll send instructions to your inbox so you can reset your passsword.","cta":{"type":"text","copy":"Go back to sign in","href":"#"},"successConfig":{"headerText":"We received your request","subHeaderText":"If your email address has a Warby Parker account associated with it, you will receive an email in a few seconds.","cta":{"type":"button","copy":"Go back to sign in","href":"#"}}},"changePassword":{"headerText":"Change your password","subHeaderText":"We\u2019ll send instructions to your inbox so you can change your passsword.","cta":{"type":"text","copy":"Go back to profile","href":"/account/profile"},"successConfig":{"headerText":"Instructions sent","subHeaderText":"You should receive an email in a few seconds. Didn\u2019t get it? Check your spam folder.","cta":{"type":"button","copy":"Go back to profile","href":"/account/profile"}}},"passwordless":{"headerText":"We sent you a sign-in link","subHeaderText":"No password necessary\u2013easy peasy :-) We sent your link to sign in to this email address:","cta":{"type":"custom","copy":"Try another way to sign in","href":"#"}},"genericError":{"headerText":"Something went wrong","subHeaderText":"We weren\u2019t able to send you an email. You can try again by submitting your email to get a new one-time link.","cta":{"type":"button","copy":"Try again","href":"#"}}}}');function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H=r(3072),R=r(219),N=r(5353),M=(0,l.zo)("button",{border:"none",position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",transitionProperty:"background, color",transition:"$productiveP2S",variants:{size:{small:{maxHeight:"32px",padding:"6px 16px"},large:{maxHeight:"48px",padding:"13px 24px"}},shape:{pill:{borderRadius:"100px"},rectangle:{borderRadius:"2px"}},color:{blue:{background:"$coreBluesBlue",color:"$grayscaleWhite","&:hover:not([disabled])":{background:"$coreBluesDenim",color:"$grayscaleWhite"},"&:focus-visible":{_buttonFocusOutline:"$coreBluesDenim",color:"$grayscaleWhite"},"&:focus:not(:focus-visible)":{background:"$coreBluesDenim",color:"$grayscaleWhite"},"&:disabled":{color:"$grayscaleWhiteAlpha50"}},denim:{background:"$coreBluesDenim",color:"$grayscaleWhite","&:hover:not([disabled])":{background:"$coreBluesNavy",color:"$grayscaleWhite"},"&:focus-visible":{_buttonFocusOutline:"$coreBluesDenim",color:"$grayscaleWhite"},"&:focus:not(:focus-visible)":{background:"$coreBluesNavy",color:"$grayscaleWhite"},"&:disabled":{color:"$grayscaleWhiteAlpha50"}},clear:{background:"$grayscaleWhite",color:"$grayscaleCharcoal",border:"1px solid",borderColor:"$grayscaleSmoke","&:hover:not([disabled])":{borderColor:"$grayscaleStone",color:"$grayscaleCharcoal"},"&:focus-visible":{_buttonFocusOutline:"$grayscaleStone",color:"$grayscaleCharcoal"},"&:focus:not(:focus-visible)":{borderColor:"$grayscaleStone",color:"$grayscaleCharcoal"},"&:disabled":{color:"$grayscaleSmoke",borderColor:"$grayscaleSmoke"}},white:{background:"$grayscaleWhite",color:"$grayscaleCharcoal","&:hover:not([disabled])":{background:"$grayscaleSilk",color:"$grayscaleCharcoal"},"&:focus-visible":{background:"$grayscaleSilk",_buttonFocusOutline:"$grayscaleStone",color:"$grayscaleCharcoal"},"&:focus:not(:focus-visible)":{background:"$grayscaleSilk",color:"$grayscaleCharcoal"},"&:disabled":{color:"$grayscaleSmoke"}}}}}),_=(0,l.zo)("div",{display:"inline-flex","& svg":{width:"20px",height:"18px"},variants:{position:{start:{paddingRight:"8px"},end:{paddingLeft:"8px"}}}}),Z=(0,l.iv)({background:"transparent",display:"inline-flex",alignItems:"center",borderWidth:"2px",borderStyle:"solid",borderColor:"transparent",borderRadius:"4px",padding:"4px",transitionProperty:"color, opacity",transition:"$productiveP2S",variants:{color:{blue:{color:"$coreBluesBlue","&:hover:not([disabled])":{color:"$coreBluesDenim"},"&:focus-visible":{color:"$coreBluesDenim",_textButtonFocusOutline:"$coreBluesDenim"},"&:focus:not(:focus-visible)":{color:"$coreBluesDenim"},"&:disabled":{opacity:.5}},charcoal:{color:"$grayscaleCharcoal","&:hover:not([disabled])":{color:"$grayscaleStone"},"&:focus-visible":{color:"$grayscaleStone",_textButtonFocusOutline:"$grayscaleStone"},"&:focus:not(:focus-visible)":{color:"$grayscaleStone"},"&:disabled":{opacity:.5}},stone:{color:"$grayscaleStone","&:hover:not([disabled])":{color:"$grayscaleCharcoal"},"&:focus-visible":{color:"$grayscaleCharcoal",_textButtonFocusOutline:"$grayscaleCharcoal"},"&:focus:not(:focus-visible)":{color:"$grayscaleCharcoal"},"&:disabled":{opacity:.5}},white:{background:"$grayscaleWhite",color:"$grayscaleCharcoal","&:hover:not([disabled])":{background:"$grayscaleSilk",color:"$grayscaleCharcoal"},"&:focus-visible":{background:"$grayscaleSilk",_buttonFocusOutline:"$grayscaleStone",color:"$grayscaleCharcoal"},"&:focus:not(:focus-visible)":{background:"$grayscaleSilk",color:"$grayscaleCharcoal"},"&:disabled":{color:"$grayscaleSmoke"}}}}}),Y=r(5893),K=["children","href","startIcon","endIcon","color"];function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var V=(0,l.zo)("a",Z),X=(0,i.forwardRef)((function(e,t){var r=e.children,n=e.href,o=e.startIcon,a=e.endIcon,i=e.color,s=void 0===i?"blue":i,c=(0,R.Z)(e,K);return(0,Y.jsxs)(V,G(G({},c),{},{ref:t,href:n,color:s,children:[o&&(0,Y.jsx)(_,{position:"start",children:o}),(0,Y.jsx)(N.x.UIButton,{color:"inherit",children:r}),a&&(0,Y.jsx)(_,{position:"end",children:a})]}))}));X.displayName="TextLink";var J,Q=(0,i.createContext)({}),q=function(e){var t=e.isPasswordlessLinkEnabled,r=e.isGoogleSignInEnabled,n=e.isAppleSignInEnabled,o=e.useNewCopyForPostPasswordlessLaunch,a=e.children;return(0,Y.jsx)(Q.Provider,{value:{isPasswordlessLinkEnabled:t,isGoogleSignInEnabled:r,isAppleSignInEnabled:n,useNewCopyForPostPasswordlessLaunch:o},children:a})},ee=function(){return(0,i.useContext)(Q)},te=(0,l.F4)({from:{opacity:"0"},to:{opacity:"1"}}),re=(0,l.zo)("div",{marginBottom:"12px",animation:".3s ".concat(te," 1 normal forwards ease-in"),span:{fontSize:"14px",lineHeight:"20px",a:{paddingTop:"0",paddingBottom:"0"},"@desktop":{fontSize:"16px",lineHeight:"22px"}}}),ne=function(e){var t=e.error,r=e.cta,n=e.errorPolicyMap,o=ee(),a=function(e,t,r,n,o){var a=e.policyMap,i=t&&"string"===typeof t?t:"default";"password_change_required"===i?i=o?"post_passwordless_custom_copy":"pre_passwordless_custom_copy":n&&"invalid_user_password"===i?i="passwordless_link":n&&i.includes("set up a password")&&(i="new_password_setup");var s=a.find((function(e){var t=e.match;return i.includes(t)}))||a[a.length-1],c=s.copy,l=s.ctaType,u=s.postCTACopy;return{copy:c,cta:W(W(W({},e.ctaTypes[l]),r||{}),{},{copy:e.ctaTypes[l].copy}),postCTACopy:u}}(n,t,r,o.isPasswordlessLinkEnabled,o.useNewCopyForPostPasswordlessLaunch),i=a.copy,s=a.cta,c=a.postCTACopy;return(0,Y.jsx)(re,{children:(0,Y.jsxs)(H.j,{type:"warning",textSize:"large",children:[i,s&&(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsx)(X,{href:s.href||"",onClick:s.onClick,children:s.copy})}),c]})})},oe=function(e){return!(e&&e.length>0)},ae={email:function(e){return oe(e)?"Email address must not be blank.":/\S+@\S+\.\S+/.test(e)?null:"Email address must be valid."},password:function(e){return oe(e)?"Password must not be blank.":null}},ie=r(318),se=new L,ce=["title","titleId"];function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ue(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var pe=function(e){var t=e.title,r=e.titleId,n=ue(e,ce);return i.createElement("svg",le({width:15,height:19,viewBox:"0 0 15 19",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},n),t?i.createElement("title",{id:r},t):null,J||(J=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.453 4.305c1.047.089 2.094-.53 2.748-1.313.644-.806 1.069-1.888.96-2.992-.927.044-2.072.618-2.727 1.424-.6.696-1.112 1.822-.981 2.881zm1.253.566c.68-.27 1.522-.605 2.444-.551.59.044 2.29.22 3.381 1.854a.78.78 0 01-.033.022c-.27.178-1.983 1.306-1.963 3.533.02 2.653 2.156 3.643 2.435 3.772l.03.014-.007.022c-.055.182-.423 1.385-1.258 2.617-.774 1.148-1.57 2.274-2.836 2.296-.595.011-.996-.165-1.414-.347-.439-.192-.896-.393-1.617-.393-.747 0-1.226.206-1.686.404-.4.172-.787.338-1.324.358-1.222.044-2.149-1.214-2.923-2.362C.353 13.79-.857 9.574.779 6.726c.796-1.424 2.246-2.318 3.806-2.34.68-.013 1.33.248 1.897.476.433.175.818.33 1.135.33.282 0 .652-.148 1.09-.321z",fill:"#fff"})))},de=r(5624),ge=r(657),he=(0,l.zo)("button",{border:"none",borderRadius:"100px",position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",transitionProperty:"background, color",transition:"$productiveP2S",maxHeight:"48px",padding:"13px 24px",width:"100%"}),fe=["disabled","isLoading","children"];function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ye,ve,we,xe,ke,je=(0,l.zo)(he,{backgroundColor:"#000000",color:"$grayscaleWhite","&:hover:not([disabled])":{background:"#333333"},"&:focus-visible":{_buttonFocusOutline:"#333333",background:"#333333","&:hover":{_buttonFocusOutline:"#333333",background:"#333333"}},"&:disabled":{color:"$grayscaleWhiteAlpha50"},variants:{isLoading:{true:{opacity:"80%"}}}}),Oe=(0,l.zo)("div",{display:"inline-flex",color:"$grayscaleWhite","& svg":{width:"20px",height:"18px"},padding:"2px 20px 4px 2px",variants:{disabled:{true:{"& svg":{opacity:"50%"}}},isLoading:{true:{"& svg":{opacity:"20%"}}}}}),Se=(0,l.zo)("div",{opacity:"1",lineHeight:"22px",transitionProperty:"opacity",transitionDuration:".2s",variants:{isLoading:{true:{opacity:"20%"}}}}),Ce=(0,l.zo)("div",{position:"absolute",left:"50%",transform:"translateX(-50%)",display:"inline-block"}),Pe=(0,i.forwardRef)((function(e,t){var r=e.disabled,n=e.isLoading,o=void 0!==n&&n,a=e.children,i=(0,R.Z)(e,fe);return(0,Y.jsxs)(je,me(me({},i),{},{ref:t,disabled:r,isLoading:o,children:[(0,Y.jsx)(Oe,{disabled:r,isLoading:o,children:(0,Y.jsx)(pe,{})}),o&&(0,Y.jsx)(Ce,{children:(0,Y.jsx)(ge.$,{size:28})}),(0,Y.jsx)(Se,{isLoading:o,children:(0,Y.jsx)(de.r,{size:"300",children:a})})]}))}));Pe.displayName="AppleButton";var Ee=["title","titleId"];function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ae=function(e){var t=e.title,r=e.titleId,n=Ie(e,Ee);return i.createElement("svg",Te({width:24,height:24,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},n),t?i.createElement("title",{id:r},t):null,ye||(ye=i.createElement("circle",{cx:14,cy:14,r:14,fill:"#FFF"})),ve||(ve=i.createElement("path",{d:"M22.64 14.205c0-.639-.057-1.252-.164-1.841H14v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4"})),we||(we=i.createElement("path",{d:"M14 23c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H5.957v2.332A8.997 8.997 0 0014 23z",fill:"#34A853"})),xe||(xe=i.createElement("path",{d:"M8.964 15.71A5.41 5.41 0 018.682 14c0-.593.102-1.17.282-1.71V9.958H5.957A8.996 8.996 0 005 14c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"})),ke||(ke=i.createElement("path",{d:"M14 8.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C18.463 5.891 16.426 5 14 5a8.997 8.997 0 00-8.043 4.958l3.007 2.332c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"})))},De=["disabled","isLoading","children"];function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $e=(0,l.zo)(he,{backgroundColor:"#4285F4",color:"$grayscaleWhite","&:hover:not([disabled])":{background:"#2F67C3"},"&:focus-visible":{_buttonFocusOutline:"#2F67C3",background:"#2F67C3","&:hover":{_buttonFocusOutline:"#2F67C3",background:"#2F67C3"}},"&:disabled":{color:"$grayscaleWhiteAlpha50"},variants:{isLoading:{true:{opacity:"80%"}}}}),Be=(0,l.zo)("div",{display:"inline-flex","& svg":{width:"24px",height:"24px"},paddingRight:"20px",variants:{disabled:{true:{"& svg":{opacity:"50%"}}},isLoading:{true:{"& svg":{opacity:"20%"}}}}}),Fe=(0,l.zo)("div",{opacity:"1",lineHeight:"22px",transitionProperty:"opacity",transitionDuration:".2s",variants:{isLoading:{true:{opacity:"20%"}}}}),We=(0,l.zo)("div",{position:"absolute",left:"50%",transform:"translateX(-50%)",display:"inline-block"}),He=(0,i.forwardRef)((function(e,t){var r=e.disabled,n=e.isLoading,o=void 0!==n&&n,a=e.children,i=(0,R.Z)(e,De);return(0,Y.jsxs)($e,ze(ze({},i),{},{ref:t,disabled:r,isLoading:o,children:[(0,Y.jsx)(Be,{disabled:r,isLoading:o,children:(0,Y.jsx)(Ae,{})}),o&&(0,Y.jsx)(We,{children:(0,Y.jsx)(ge.$,{size:28})}),(0,Y.jsx)(Fe,{isLoading:o,children:(0,Y.jsx)(de.r,{size:"300",children:a})})]}))}));He.displayName="GoogleButton";var Re,Ne=r(9938),Me=(0,l.zo)("div",{display:"flex",flexGrow:1,textAlign:"center",justifyContent:"center",variants:{borders:{true:{"@desktop":{marginLeft:"-12px",paddingLeft:"12px",borderLeft:"1px solid $colors$grayscaleSilver"}}}}}),_e=(0,l.zo)("div",{width:"100%",textAlign:"center","> svg":{display:"block",marginLeft:"auto",marginRight:"auto",width:"60px",height:"60px",marginBottom:"25px"},a:{fontWeight:"600"},"> p":{marginBottom:"24px"},"@tablet":{maxWidth:"498px"},"@desktop":{borderTop:"unset",maxWidth:"432px",padding:"unset"},variants:{borders:{true:{borderTop:"1px solid $colors$grayscaleSilver",borderBottom:"1px solid $colors$grayscaleSilver","@desktop":{borderTop:"unset",borderBottom:"unset"}}}}}),Ze=(0,l.zo)($.h4,{paddingTop:"48px","@tablet":{paddingTop:"0px"}}),Ye=(0,l.zo)("div",{textAlign:"center"}),Ke=function(e){var t=e.headerText,r=e.subHeaderText,n=e.children,o=e.renderCustomCTA,a=e.cta,s=e.ctaClickHandler,c=e.borders,l=e.iconComponent,u=e.css,p=[(0,i.useCallback)((function(){se.socialSignIn({connection:x.Google})}),[]),(0,i.useCallback)((function(){se.socialSignIn({connection:x.Apple})}),[])],d=(0,ie.Z)(p,2),g=d[0],h=d[1];return(0,Y.jsx)(Me,{borders:c,children:(0,Y.jsxs)(_e,{borders:c,css:u||void 0,children:[l&&(0,Y.jsx)(l,{}),t&&(0,Y.jsx)(Ze,{variant:"md",tag:"h2",children:t}),r&&"string"===typeof r&&(0,Y.jsx)($.nv,{variant:"lg",tag:"p",children:r}),r&&"function"===typeof r&&r(),n,"text"===(null===a||void 0===a?void 0:a.type)&&(0,Y.jsx)(Ye,{css:{marginTop:n?"24px":"0px"},children:(0,Y.jsx)(X,{href:a.href||"",onClick:s,children:a.copy})}),"social-google"===(null===a||void 0===a?void 0:a.type)&&(0,Y.jsx)(Ye,{css:{marginTop:"12px"},children:(0,Y.jsx)(He,{onClick:function(e){s&&s(e),g()},children:a.copy})}),"social-apple"===(null===a||void 0===a?void 0:a.type)&&(0,Y.jsx)(Ye,{css:{marginTop:"12px"},children:(0,Y.jsx)(Pe,{onClick:function(e){s&&s(e),h()},children:a.copy})}),a&&"text"!==(null===a||void 0===a?void 0:a.type)&&!(null===a||void 0===a||!a.href)&&(0,Y.jsx)(Ye,{css:{marginTop:n?"12px":"0px"},children:(0,Y.jsx)(Ne.z,{color:"clear",href:a.href,onClick:s,fullWidth:!0,children:a.copy})}),o&&(0,Y.jsx)(Ye,{css:{marginTop:n?"24px":"0px"},children:o})]})})},Ue=["title","titleId"];function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ve(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Xe,Je=function(e){var t=e.title,r=e.titleId,n=Ve(e,Ue);return i.createElement("svg",Ge({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},n),t?i.createElement("title",{id:r},t):null,Re||(Re=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.26 1a.75.75 0 00-.743.757l-.005 3.058c-1.943-2.18-4.747-3.554-7.87-3.554-5.891 0-10.638 4.883-10.638 10.87 0 5.986 4.747 10.868 10.639 10.868 3.723 0 6.992-1.953 8.89-4.897a.75.75 0 00-1.26-.813c-1.64 2.543-4.448 4.21-7.63 4.21-5.031 0-9.14-4.178-9.14-9.369 0-5.19 4.109-9.369 9.14-9.369 2.759 0 5.236 1.254 6.915 3.245l-3.203-.007a.75.75 0 00-.743.757c0 .42.33.76.74.76l4.895.01a.726.726 0 00.43-.14.763.763 0 00.314-.617L22 1.759A.75.75 0 0021.26 1z",fill:"#676F78"})))},Qe=r(343),qe=(0,l.F4)({"0%":{maxHeight:"0"},"60%":{maxHeight:"800px"},"100%":{maxHeight:"800px"}}),et=(0,l.F4)({"0%":{opacity:0},"60%":{opacity:0},"100%":{opacity:1}}),tt=(0,l.zo)("div",{justifyContent:"center",marginTop:"24px",width:"100%",display:"none",flexDirection:"column",alignItems:"center",border:"1px solid ".concat(u.O.grayscaleSilver),borderRadius:"12px",padding:"12px",backgroundColor:"white",marginLeft:"auto",marginRight:"auto",animation:".4s ".concat(qe," 1 normal forwards ease-in"),"@tablet":{maxWidth:"300px"},"div, label":{animation:".4s ".concat(et," 1 normal forwards ease-in")},variants:{visible:{true:{display:"flex"}}}}),rt=(0,l.zo)("div",{display:"flex",marginBottom:"12px",backgroundColor:"white",borderRadius:"6px",padding:"8px",img:{marginRight:"16px",width:"150px",height:"50px"}}),nt=(0,l.zo)("button",{border:"none",backgroundColor:"white",display:"flex",flexDirection:"column",paddingTop:"6px",alignItems:"center",justifyContent:"center",marginRight:"8px",svg:{width:"18px",height:"18px"}}),ot=function(e){var t=e.visible,r=e.isCodeChallenge,n=e.imgSrc,o=e.onClickReload,a=e.inputValue,i=e.onInputChange,s=e.formIdPrefix,c=e.error;return(0,Y.jsxs)(tt,{visible:t,children:[(0,Y.jsxs)(rt,{children:[(0,Y.jsx)("img",{src:n||"",alt:"captcha challenge"}),(0,Y.jsxs)(nt,{"aria-label":"Reload Security Challenge Image",type:"button",onClick:function(e){e.preventDefault(),o()},children:[(0,Y.jsx)(Je,{}),(0,Y.jsx)($.nv,{variant:"xs",tag:"p",children:"Reload"})]})]}),(0,Y.jsx)(Qe.y,{id:"".concat(s,"-captcha-input"),fieldLabel:r?"Enter the code shown above":"Solve the formula shown above",type:"text",onChange:i,value:a,error:!!c,errorMessage:c||""})]})},at={padding:"0 0",textAlign:"center","h2+p":{fontSize:"16px",lineHeight:"26px","@desktop":{fontSize:"18px",lineHeight:"28px"}},svg:{marginTop:"52px","@desktop":{marginTop:"0"}},"svg, circle, path":{fill:"$coreBluesBlue"}},it=function(e){var t=e.email,r=e.clickBackToSignIn,n=e.submitCallback;!function(e,t){var r=(0,i.useState)(v.Initial),n=r[0],o=r[1],a=(0,i.useState)(""),s=a[0],c=a[1],l=(0,i.useRef)(n);(0,i.useEffect)((function(){e&&function(){var t=(0,b.Z)(y().mark((function t(){var r,n;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(v.Initial),c(""),o(v.InProgress),t.prev=2,t.next=5,z.passwordlessStart(e);case 5:r=t.sent,n=r.error,o(n?v.Error:v.Success),n&&c(n),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(2),c("Oops! Something went wrong, please try logging in again."),o(v.Error),console.warn(t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}()()}),[e]),(0,i.useEffect)((function(){t&&(l.current!==n&&t(n),l.current=n)}),[n,t])}(t,n);var o=(0,s.r)().trackEvent,a=B.sW.passwordless,l=a.headerText,u=a.subHeaderText,p=a.cta;return(0,Y.jsx)(Ke,{css:at,iconComponent:function(){return(0,Y.jsx)(h.Z,{width:"60",height:"60"})},headerText:l,subHeaderText:function(){return(0,Y.jsxs)($.nv,{variant:"lg",tag:"p",children:[u," ",(0,Y.jsx)("strong",{"data-testid":"passwordless-login-link-email",children:t}),"."]})},renderCustomCTA:(0,Y.jsxs)(Y.Fragment,{children:["Didn't get an email?",(0,Y.jsx)(f.h,{href:p.href,onClick:function(e){e.preventDefault(),o({action:c.ld.ClickTryAnotherWay,label:c.YX.ClickTryAnotherWay}),r(e)},children:"".concat(p.copy,".")})]})})},st=["title","titleId"];function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function lt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var ut=function(e){var t=e.title,r=e.titleId,n=lt(e,st);return i.createElement("svg",ct({width:60,height:60,viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},n),t?i.createElement("title",{id:r},t):null,Xe||(Xe=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.572 9.118l22.403 37.338c1.2 2-.24 4.544-2.572 4.544H7.597c-2.332 0-3.772-2.544-2.572-4.544L27.427 9.118c1.166-1.942 3.98-1.942 5.145 0zm-7.717-1.543c2.33-3.884 7.96-3.884 10.29 0l22.403 37.338c2.4 4-.481 9.087-5.145 9.087H7.597c-4.664 0-7.544-5.088-5.145-9.087L24.855 7.575zM30 18.5a1.5 1.5 0 011.5 1.5v17.5a1.5 1.5 0 01-3 0V20a1.5 1.5 0 011.5-1.5zM32 43a2 2 0 10-4 0 2 2 0 004 0z",fill:"#676F78"})))},pt={padding:"47px 0","@desktop":{padding:"0 0"},textAlign:"center","h2+p":{"@desktop":{fontSize:"18px",lineHeight:"28px"}},svg:{marginBottom:"30px"},"svg, circle, path":{fill:"$grayscaleStone"}},dt=function(e){var t=e.clickBackToSignIn,r=e.errorKey,n=B.sW[r],o=n.headerText,a=n.subHeaderText,i=n.cta;return(0,Y.jsx)(Ke,{css:pt,iconComponent:function(){return(0,Y.jsx)(ut,{width:"60",height:"60"})},headerText:o,subHeaderText:a,cta:i,ctaClickHandler:function(e){e.preventDefault(),t(e)}})},gt=r(9440),ht=r(9126),ft=["children","disabled","startIcon","endIcon","color","shape","size"];function bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var yt=(0,i.forwardRef)((function(e,t){var r=e.children,n=e.disabled,o=e.startIcon,a=e.endIcon,i=e.color,s=void 0===i?"blue":i,c=e.shape,l=void 0===c?"pill":c,u=e.size,p=void 0===u?"large":u,d=(0,R.Z)(e,ft);return(0,Y.jsxs)(M,mt(mt({},d),{},{ref:t,color:s,shape:l,size:p,disabled:n,children:[o&&(0,Y.jsx)(_,{position:"start",children:o}),(0,Y.jsx)($.J3,{variant:"small"===p?"sm":"md",children:r}),a&&(0,Y.jsx)(_,{position:"end",children:a})]}))}));yt.displayName="Button";var vt=r(5999),wt=new L;function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jt=(0,l.F4)({from:{opacity:"0"},to:{opacity:"1"}}),Ot=(0,l.zo)("div",{marginBottom:"12px",animation:".3s ".concat(jt," 1 normal forwards ease-in")}),St=function(e){var t=e.error,r=function(e,t,r){var n=e.policyMap,o=t&&"string"===typeof t?t:"default",a=n.find((function(e){var t=e.match;return o.includes(t)}))||n[n.length-1],i=a.copy,s=a.ctaType,c={copy:i};return e.ctaTypes&&s&&(c.cta=kt(kt(kt({},e.ctaTypes[s]),r||{}),{},{copy:e.ctaTypes[s].copy})),c}(e.errorPolicyMap,t).copy;return(0,Y.jsx)(Ot,{children:(0,Y.jsx)(H.j,{type:"warning",textSize:"large",children:r})})},Ct=function(e){return!(e&&e.length>0)},Pt={email:function(e){return Ct(e)?"Email address must not be blank.":/\S+@\S+\.\S+/.test(e)?null:"Email address must be valid."},password:function(e){return Ct(e)?"Password must not be blank.":null}},Et=["children","href","startIcon","endIcon","color","shape","size"];function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var At=(0,l.zo)("a",M);(0,i.forwardRef)((function(e,t){var r=e.children,n=e.href,o=e.startIcon,a=e.endIcon,i=e.color,s=void 0===i?"blue":i,c=e.shape,l=void 0===c?"pill":c,u=e.size,p=void 0===u?"small":u,d=(0,R.Z)(e,Et);return(0,Y.jsxs)(At,It(It({},d),{},{ref:t,href:n,color:s,shape:l,size:p,children:[o&&(0,Y.jsx)(_,{position:"start",children:o}),(0,Y.jsx)(N.x.UIButton,{color:"inherit",size:"small"===p?"small":"standard",children:r}),a&&(0,Y.jsx)(_,{position:"end",children:a})]}))})).displayName="ButtonLink";(0,l.zo)("div",{display:"flex",flexGrow:1,textAlign:"center",justifyContent:"center",variants:{borders:{true:{"@desktop":{marginLeft:"-12px",paddingLeft:"12px",borderLeft:"1px solid $colors$grayscaleSilver"}}}}}),(0,l.zo)("div",{width:"100%",textAlign:"left",padding:"48px 0","> h2":{marginBottom:"4px"},"> p":{marginBottom:"24px"},"@tablet":{maxWidth:"498px"},"@desktop":{borderTop:"unset",maxWidth:"432px",textAlign:"center",padding:"unset"},variants:{borders:{true:{borderTop:"1px solid $colors$grayscaleSilver",borderBottom:"1px solid $colors$grayscaleSilver","@desktop":{borderTop:"unset",borderBottom:"unset"}}}}}),(0,l.zo)("div",{textAlign:"center"});function Dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var zt={fontSize:vt.c.mobile.uiParagraphLarge.fontSize,fontWeight:vt.c.mobile.uiParagraphLarge.fontWeight,fontFamily:vt.c.mobile.uiParagraphLarge.fontFamily,color:u.O.grayscaleCharcoal,"-webkit-text-fill-color":u.O.grayscaleCharcoal},$t=(0,l.zo)("div",{textAlign:"left"}),Bt=(0,l.F4)({from:{},to:{}}),Ft=(0,l.zo)("div",{transition:"$productiveP2S",transitionProperty:"margin-bottom",marginBottom:"12px",overflow:"hidden",padding:".5px 0",height:"61px",variants:{error:{true:{height:"82px"}},isAutoFill:{true:{"input:-webkit-autofill":{transform:"scale(1.1)",transformOrigin:"top left",opacity:"0.83"}}}},"input, input:hover, input:focus, input:active":Lt(Lt({},zt),{},{filter:"none","&:-webkit-autofill::first-line":Lt({},zt),"&:-webkit-autofill, &:-webkit-autofill:hover, &:-webkit-autofill:focus, &:-webkit-autofill:active":Lt(Lt({},zt),{},{animationName:Bt,boxShadow:"0 0 0 1000px $grayscaleWhite inset",transition:"background-color 1s linear 5000s",backgroundClip:"content-box"})}),"input:autofill":{background:"transparent"}}),Wt=(0,l.zo)("div",{display:"flex",justifyContent:"center",marginTop:"24px"}),Ht=function(e){var t=e.submitCallback,r=e.validationRequired,n=void 0!==r&&r,o=e.errorPolicyMap,a=e.prepopulateValue,s=e.initialError,c=(0,i.useState)({touched:{email:!1},values:{email:a||""},errors:{email:void 0},submitBlocked:!1}),l=c[0],u=c[1],p=(0,i.useState)({email:""}),d=p[0],g=p[1],h=(0,i.useState)(!!a),f=h[0],m=h[1],v=(0,i.useState)(!1),w=v[0],x=v[1],j=!l.values.email,O=f&&j,S=function(e,t){var r=e.email,n=(0,i.useState)(!1),o=n[0],a=n[1],s=(0,i.useState)(""),c=s[0],l=s[1],u=(0,i.useState)(!1),p=u[0],d=u[1],g=(0,i.useRef)({inProgress:o,submitSuccess:p,submitError:c});return(0,i.useEffect)((function(){r&&function(){var e=(0,b.Z)(y().mark((function e(){var t,n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!1),l(""),d(!1),a(!0),e.prev=2,e.next=5,wt.changePassword({email:r});case 5:t=e.sent,(n=t.error)?(l(n),a(!1)):d(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),l("Oops! Something went wrong, please try again."),a(!1),console.warn(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}()()}),[r]),(0,i.useEffect)((function(){t&&(o!==g.current.inProgress&&t({inProgress:o}),p!==g.current.submitSuccess&&t({submitSuccess:p}),c!==g.current.submitError&&t({submitError:c}),g.current={inProgress:o,submitSuccess:p,submitError:c})}),[o,p,c,t]),[o,c,p]}({email:d.email},t),C=(0,ie.Z)(S,2),P=C[0],E=C[1],T=l.submitBlocked,I=n&&!f&&T||!0===P,A=function(e){var t=e.id,r=e.value,n=l.errors,o=function(e){return Pt[e]||null}(t);if(o){var a=Lt(Lt({},n),{},(0,k.Z)({},t,o(r)||void 0)),i=Object.keys(a).some((function(e){return!!a[e]}));u((function(e){return Lt(Lt({},e),{},{errors:a,submitBlocked:i})}))}},D=function(e,t){var r=e.id,n=e.value;u((function(e){return Lt(Lt({},e),{},{values:Lt(Lt({},e.values),{},(0,k.Z)({},r,n))})})),(l.touched[r]&&w||t)&&A({id:r,value:n})},L=function(e){var t=(0,i.useRef)(null);return[(0,i.useCallback)((function(r){t.current&&t.current.removeEventListener&&t.current.removeEventListener("animationstart",e),r&&r.addEventListener("animationstart",e),t.current=r}),[e])]}((function(e){var t=e.animationName,r=e.currentTarget;if(t===Bt.name&&r){var n=r,o=n.id,a=n.value;D({id:o,value:a}),m(!0)}})),z=(0,ie.Z)(L,1)[0];return(0,Y.jsxs)($t,{children:[(E||s)&&(0,Y.jsx)(St,{errorPolicyMap:o,error:s||E}),(0,Y.jsxs)("form",{onSubmit:function(e){e.preventDefault(),!f&&I||(x(!0),g({email:l.values.email}),A({id:"email",value:l.values.email}))},action:"#",noValidate:!0,children:[(0,Y.jsx)(Ft,{error:!!l.errors.email,isAutoFill:O,children:(0,Y.jsx)(Qe.y,{id:"email",fieldLabel:"Email address",type:"email",autoComplete:"email",ref:z,onChange:function(e){return function(e,t){var r=e.currentTarget,n=r.id,o=r.value;D({id:n,value:o},t)}(e)},onBlur:function(e){var t=e.target,r=t.id,n=t.value;u((function(e){return Lt(Lt({},e),{},{touched:Lt(Lt({},e.touched),{},(0,k.Z)({},r,!0))})})),A({id:r,value:n})},value:l.values.email,error:!!l.errors.email,errorMessage:l.errors.email,placeholder:f?" ":void 0})}),(0,Y.jsx)(Wt,{children:(0,Y.jsx)(yt,{disabled:!f&&I,type:"submit",size:"large",children:"Email me instructions"})})]})]})};function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Mt={"@tablet":{maxWidth:"unset"},"@desktop":{maxWidth:"unset",textAlign:"left"}},_t=Nt(Nt({},Mt),{},{padding:"0 0"}),Zt=Nt(Nt({},Mt),{},{textAlign:"center",padding:"0 0","svg, circle, path":{fill:"$coreBluesBlue"}}),Yt=function(e){var t=e.submitCallback,r=e.isForgotPassword,n=e.clickBackToSignIn,o=e.clickBackToProfile,a=e.changePasswordSuccess,i=e.prepopulateValue,s=e.initialError,c=B.sW,l=c.forgotPassword,u=c.changePassword,p=r?l:u,d=p.headerText,g=p.subHeaderText,f=p.cta,b=p.successConfig;return a?(0,Y.jsx)(Ke,{headerText:b.headerText,subHeaderText:b.subHeaderText,cta:b.cta,css:Zt,iconComponent:function(){return(0,Y.jsx)(h.Z,{width:"60",height:"60"})},ctaClickHandler:function(e){e.preventDefault(),r?n(e):(o(),window.location.href=b.cta.href)},borders:!1}):(0,Y.jsx)(Ke,{headerText:d,subHeaderText:g,cta:f,ctaClickHandler:function(e){e.preventDefault(),r?n(e):(o(),window.location.href=f.href)},borders:!1,css:_t,children:(0,Y.jsx)(Ht,{initialError:s,submitCallback:t,errorPolicyMap:B.id,prepopulateValue:i,validationRequired:!0})})},Kt=(0,l.zo)("div",{variants:{socialEnabled:{true:{marginTop:"12px"}}}}),Ut=function(){var e=ee(),t=e.isGoogleSignInEnabled,r=e.isAppleSignInEnabled,n=B.sW.guestCheckout,o=n.headerText,a=n.subHeaderText,i=n.cta,l=(0,s.r)().trackEvent,u=!!t||!!r;return(0,Y.jsx)(Ke,{headerText:o,subHeaderText:u?"":a,cta:i,ctaClickHandler:function(){return l({action:c.ld.ClickGuestCheckoutLink,label:c.YX.ClickGuestCheckoutLink})},children:(0,Y.jsxs)(Kt,{socialEnabled:!!t||!!r,children:[!!t&&(0,Y.jsx)(Ke,{cta:{type:"social-google",copy:"Sign in with Google"},ctaClickHandler:function(){return l({action:c.ld.ClickSignInWithGoogle,label:c.YX.ClickSignInWithGoogle})}}),!!r&&(0,Y.jsx)(Ke,{cta:{type:"social-apple",copy:"Sign in with Apple"},ctaClickHandler:function(){return l({action:c.ld.ClickSignInWithApple,label:c.YX.ClickSignInWithApple})}})]})})},Gt=new L({authMethod:"login"});function Vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Jt={fontSize:vt.c.mobile.uiParagraphLarge.fontSize,fontWeight:vt.c.mobile.uiParagraphLarge.fontWeight,fontFamily:vt.c.mobile.uiParagraphLarge.fontFamily,color:u.O.grayscaleCharcoal,"-webkit-text-fill-color":u.O.grayscaleCharcoal},Qt=(0,l.zo)("div",{textAlign:"left"}),qt=(0,l.F4)({from:{},to:{}}),er=(0,l.zo)("div",{transition:"$productiveP2S",transitionProperty:"margin-bottom",marginBottom:"12px",overflow:"hidden",padding:".5px 0",height:"61px",variants:{error:{true:{height:"82px"}},isAutoFill:{true:{"input:-webkit-autofill":{transform:"scale(1.1)",transformOrigin:"top left",opacity:"0.83"}}},isHiddenAutofill:{true:{"@supports (-webkit-touch-callout: none)":{input:{letterSpacing:"3px",top:"27px"}},"@supports not (-webkit-touch-callout: none)":{"input, input:-webkit-autofill":{opacity:"0.9",transform:"scale(2.5) translate(-.25%, -37%)",transformOrigin:"top left",fontFamily:"Verdana !important",letterSpacing:"0.03em !important",width:"160px"}}}},isHidden:{true:{input:{letterSpacing:"3px",top:"27px"},"@supports not (-webkit-touch-callout: none)":{"input, input:-webkit-autofill, input:-webkit-autofill::first-line":{marginLeft:"-2px",marginTop:"-2px",fontFamily:"Verdana !important",fontSize:"23px !important"}}}}},"input, input:hover, input:focus, input:active":Xt(Xt({},Jt),{},{filter:"none","&:-webkit-autofill::first-line":Xt({},Jt),"&:-webkit-autofill, &:-webkit-autofill:hover, &:-webkit-autofill:focus, &:-webkit-autofill:active":Xt(Xt({},Jt),{},{animationName:qt,boxShadow:"0 0 0 1000px $grayscaleWhite inset",transition:"background-color 1s linear 5000s",backgroundClip:"content-box"})}),"input:autofill":{background:"transparent"}}),tr=(0,l.zo)("div",{display:"flex",justifyContent:"center",marginTop:"24px","@media (hover: none), (hover: on-demand)":{"button:hover:not([disabled])":{background:"$coreBluesBlue"}}}),rr=(0,l.zo)("button",{position:"absolute",right:0,top:0,bottom:0,margin:"auto",background:"0 0",border:"none",padding:"0 16px",display:"none","-webkit-tap-highlight-color":"transparent",span:{color:"$coreBluesBlue"},variants:{visible:{true:{display:"block"}}}}),nr=function(e){var t=(0,i.useRef)(null);return[(0,i.useCallback)((function(r){t.current&&t.current.removeEventListener&&t.current.removeEventListener("animationstart",e),r&&r.addEventListener("animationstart",e),t.current=r}),[e])]},or=function(e){var t=e.submitCallback,r=e.validationRequired,n=void 0!==r&&r,o=e.errorPolicyMap,a=e.errorMessageCta,s=e.updateEmailValue,c=(0,i.useState)({touched:{email:!1,password:!1},values:{email:"",password:""},errors:{email:void 0,password:void 0},submitBlocked:!0}),l=c[0],u=c[1],p=(0,i.useState)(!1),d=p[0],g=p[1],h=(0,i.useState)({email:"",password:"",captcha:""}),f=h[0],m=h[1],v=(0,i.useState)(!1),w=v[0],x=v[1],j=!l.values.email&&!l.values.password,O=w&&j,S=f.email,C=f.password,P=f.captcha,E=(0,i.useState)(""),T=E[0],I=E[1],A=(0,i.useState)(null),D=A[0],L=A[1],z=function(e,t){var r=e.email,n=e.password,o=e.captcha,a=(0,i.useState)(!1),s=a[0],c=a[1],l=(0,i.useState)(""),u=l[0],p=l[1],d=(0,i.useState)(!1),g=d[0],h=d[1],f=(0,i.useState)({imageSrc:"",isCode:!0}),m=f[0],v=f[1],w=(0,i.useRef)({inProgress:s,loginSuccess:g,loginError:u}),x=function(){Gt&&Gt.reloadCaptcha&&Gt.reloadCaptcha()};return(0,i.useEffect)((function(){r&&n&&function(){var e=(0,b.Z)(y().mark((function e(){var t,a;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!1),p(""),h(!1),c(!0),e.prev=2,e.next=5,Gt.login({email:r,password:n,captcha:o});case 5:t=e.sent,(a=t.error)?(x(),p(a),c(!1)):h(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),p("Oops! Something went wrong, please try logging in again."),c(!1),console.warn(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}()()}),[r,n,o]),(0,i.useEffect)((function(){t&&(s!==w.current.inProgress&&t({inProgress:s}),g!==w.current.loginSuccess&&t({loginSuccess:g}),u!==w.current.loginError&&t({loginError:u}),w.current={inProgress:s,loginSuccess:g,loginError:u})}),[s,g,u,t]),(0,i.useEffect)((function(){Gt.setCaptchaDOMListener((function(e){var t=e.imgSrc,r=e.isCode;t!==m.imageSrc&&v({imageSrc:t||"",isCode:r})}))}),[m]),[s,u,g,m,x]}({email:S,password:C,captcha:P},(function(e){I(""),t(e)})),B=(0,ie.Z)(z,5),F=B[0],W=B[1],H=B[3],R=B[4],N=l.submitBlocked,M=n&&!w&&N||!0===F,_=function(e){var t=e.id,r=e.value,n=l.errors,o=function(e){return ae[e]||null}(t);if(o){var a=Xt(Xt({},n),{},(0,k.Z)({},t,o(r)||void 0)),i=Object.keys(a).some((function(e){return!!a[e]}));u((function(e){return Xt(Xt({},e),{},{errors:a,submitBlocked:i})}))}},Z=function(e,t){var r=e.id,n=e.value;u((function(e){return Xt(Xt({},e),{},{values:Xt(Xt({},e.values),{},(0,k.Z)({},r,n))})})),"email"===r&&s(n),(l.touched[r]||t)&&_({id:r,value:n})},K=function(e,t){var r=e.currentTarget,n=r.id,o=r.value;Z({id:n,value:o},t)},U=function(e){var t=e.target,r=t.id,n=t.value;u((function(e){return Xt(Xt({},e),{},{touched:Xt(Xt({},e.touched),{},(0,k.Z)({},r,!0))})})),_({id:r,value:n})},G=function(e){var t=e.animationName,r=e.currentTarget;if(t===qt.name&&r){var n=r,o=n.id,a=n.value;Z({id:o,value:a}),x(!0)}},V=nr(G),X=(0,ie.Z)(V,1)[0],J=nr(G),Q=(0,ie.Z)(J,1)[0],q=function(){_({id:"email",value:l.values.email}),_({id:"password",value:l.values.password})};return(0,Y.jsxs)(Qt,{children:[W&&(0,Y.jsx)(ne,{errorPolicyMap:o,error:W,cta:a}),(0,Y.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),H.imageSrc&&!T)return L("Security challenge must not be blank."),void q();!w&&M||(m({email:l.values.email,password:l.values.password,captcha:T}),q())},action:"#",noValidate:!0,children:[(0,Y.jsx)(er,{error:!!l.errors.email,isAutoFill:O,children:(0,Y.jsx)(Qe.y,{id:"email",fieldLabel:"Email address",type:"email",autoComplete:"email",ref:X,onChange:function(e){return K(e)},onBlur:U,value:l.values.email,error:!!l.errors.email,errorMessage:l.errors.email,placeholder:w?" ":void 0})}),(0,Y.jsx)(er,{error:!!l.errors.password,isHidden:!O&&!d,isHiddenAutofill:O&&!d,children:(0,Y.jsx)(Qe.y,{id:"password",fieldLabel:"Password",type:d?"text":"password",autoComplete:"password",ref:Q,onChange:function(e){return K(e)},rightContent:(0,Y.jsx)(rr,{type:"button",onClick:function(e){e.preventDefault(),g(!d)},visible:!!l.values.password,children:(0,Y.jsx)($.J3,{variant:"xs",children:d?"Hide":"Show"})}),onBlur:U,value:l.values.password,error:!!l.errors.password,errorMessage:l.errors.password,placeholder:w?" ":void 0})}),(0,Y.jsx)(ot,{visible:!!H.imageSrc,isCodeChallenge:H.isCode,imgSrc:H.imageSrc,onClickReload:R,inputValue:T,onInputChange:function(e){I(e.target.value)},error:D,formIdPrefix:"signup"}),(0,Y.jsx)(tr,{children:(0,Y.jsx)(Ne.z,{disabled:!w&&M,buttonType:"submit",fullWidth:!0,children:"Sign in"})})]})]})};function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var sr=function(e){var t=e.borders,r=e.socialEnabled,n=e.clickSignInLinkHandler,o=B.sW.signInLinkPanel,a=o.headerText,i=o.subHeaderText,s=o.cta;return(0,Y.jsx)(Ke,{headerText:a,subHeaderText:i,cta:s,ctaClickHandler:function(e){r&&n(e)},borders:t})},cr=(0,l.zo)("div",{variants:{socialEnabled:{true:{marginTop:"24px"}}}}),lr=(0,l.zo)("div",{variants:{socialEnabled:{true:{marginTop:"12px"}}}}),ur=function(e){var t=e.passwordResetLink,r=e.errorBannerCTAOnClick,n=e.clickPasswordReset,o=e.submitCallback,a=e.borders,i=e.updateEmailValue,l=e.clickSignInLinkHandler,u=e.showSignInForm,p=void 0===u||u,d=ee(),g=d.isPasswordlessLinkEnabled,h=d.isGoogleSignInEnabled,f=d.isAppleSignInEnabled,b=B.sW.signIn,m=b.headerText,y=b.subHeaderText,v=b.cta,w=(0,s.r)().trackEvent,x=!a&&(!!h||!!f),k=a&&!h&&!f,j=a&&(!!h||!!f);return p?(0,Y.jsxs)(Ke,{headerText:j?"":m,subHeaderText:x||j?"":y,cta:ir(ir({},v),{},{href:t}),ctaClickHandler:function(e){w({action:c.ld.ClickForgotPassword,label:c.YX.ClickForgotPassword}),n(e)},borders:k,children:[x&&(0,Y.jsxs)(lr,{socialEnabled:x,children:[!!h&&(0,Y.jsx)(Ke,{cta:{type:"social-google",copy:"Sign in with Google"},ctaClickHandler:function(){return w({action:c.ld.ClickSignInWithGoogle,label:c.YX.ClickSignInWithGoogle})}}),!!f&&(0,Y.jsx)(Ke,{cta:{type:"social-apple",copy:"Sign in with Apple"},ctaClickHandler:function(){return w({action:c.ld.ClickSignInWithApple,label:c.YX.ClickSignInWithApple})}})]}),(0,Y.jsx)(cr,{socialEnabled:x,children:(0,Y.jsx)(or,{submitCallback:o,errorPolicyMap:B.px,errorMessageCta:{copy:B.TJ.J,href:g?"/":t,onClick:function(e){w({action:g?c.ld.ClickPasswordlessLogin:c.ld.ClickResetPassword,label:g?c.YX.ClickPasswordlessLogin:c.YX.ClickResetPassword}),r&&r(e)}},updateEmailValue:i,validationRequired:!0})})]}):(0,Y.jsx)(sr,{borders:!1,socialEnabled:!!h&&!!f,clickSignInLinkHandler:l})},pr=new L;function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var hr=(0,l.F4)({from:{opacity:"0"},to:{opacity:"1"}}),fr=(0,l.zo)("div",{marginBottom:"12px",animation:".3s ".concat(hr," 1 normal forwards ease-in")}),br=function(e){var t=e.error,r=e.cta,n=function(e,t,r){var n=e.policyMap,o=t&&"string"===typeof t?t:"default",a=n.find((function(e){var t=e.match;return o.includes(t)}))||n[n.length-1],i=a.copy,s=a.ctaType;return{copy:i,cta:gr(gr(gr({},e.ctaTypes[s]),r||{}),{},{copy:e.ctaTypes[s].copy})}}(e.errorPolicyMap,t,r),o=n.copy,a=n.cta;return(0,Y.jsx)(fr,{children:(0,Y.jsxs)(H.j,{type:"warning",textSize:"large",children:[o,a&&(0,Y.jsx)(X,{href:a.href||"",onClick:a.onClick,children:a.copy})]})})},mr=function(e){return!(e&&e.length>0)},yr={signupEmail:function(e){return mr(e)?"Email address must not be blank.":/\S+@\S+\.\S+/.test(e)?null:"Email address must be valid."},signupPassword:function(e){return mr(e)?"Password must not be blank.":e.length<8?"Password must be at least 8 characters in length.":null},fullName:function(e){if(mr(e))return"First and last name must not be blank.";var t=function(e){if(e&&"string"===typeof e){var t=e.trim().replace(/\s+/g," ").split(" ");return{firstName:t[0],lastName:t.slice(1).join(" ")}}return{firstName:null,lastName:null}}(e);return t.firstName&&!t.lastName?"Last name is required":null}};(0,l.zo)("div",{display:"flex",flexGrow:1,textAlign:"center",justifyContent:"center",variants:{borders:{true:{"@desktop":{marginLeft:"-12px",paddingLeft:"12px",borderLeft:"1px solid $colors$grayscaleSilver"}}}}}),(0,l.zo)("div",{width:"100%",textAlign:"left",padding:"48px 0","> svg":{display:"block",marginLeft:"auto",marginRight:"auto",width:"60px",height:"60px",marginBottom:"25px"},"> h2":{marginBottom:"4px"},"> p":{marginBottom:"24px"},"@tablet":{maxWidth:"498px"},"@desktop":{borderTop:"unset",maxWidth:"432px",textAlign:"center",padding:"unset"},variants:{borders:{true:{borderTop:"1px solid $colors$grayscaleSilver",borderBottom:"1px solid $colors$grayscaleSilver","@desktop":{borderTop:"unset",borderBottom:"unset"}}}}}),(0,l.zo)("div",{textAlign:"center"});function vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xr={fontSize:vt.c.mobile.uiParagraphLarge.fontSize,fontWeight:vt.c.mobile.uiParagraphLarge.fontWeight,fontFamily:vt.c.mobile.uiParagraphLarge.fontFamily,color:u.O.grayscaleCharcoal,"-webkit-text-fill-color":u.O.grayscaleCharcoal},kr=(0,l.zo)("div",{textAlign:"left"}),jr=(0,l.F4)({from:{},to:{}}),Or=(0,l.zo)("div",{transition:"$productiveP2S",transitionProperty:"margin-bottom",marginBottom:"12px",overflow:"hidden",padding:".5px 0",height:"61px",variants:{error:{true:{height:"82px"}},isAutoFill:{true:{"input:-webkit-autofill":{transform:"scale(1.1)",transformOrigin:"top left",opacity:"0.83"}}},isHiddenAutofill:{true:{"@supports (-webkit-touch-callout: none)":{input:{letterSpacing:"3px",top:"27px"}},"@supports not (-webkit-touch-callout: none)":{"input, input:-webkit-autofill":{opacity:"0.9",transform:"scale(2.5) translate(-.25%, -37%)",transformOrigin:"top left",fontFamily:"Verdana !important",letterSpacing:"0.03em !important",width:"160px"}}}},isHidden:{true:{input:{letterSpacing:"3px",top:"27px"},"@supports not (-webkit-touch-callout: none)":{"input, input:-webkit-autofill, input:-webkit-autofill::first-line":{marginLeft:"-2px",marginTop:"-2px",fontFamily:"Verdana !important",fontSize:"23px !important"}}}}},"input, input:hover, input:focus, input:active":wr(wr({},xr),{},{filter:"none","&:-webkit-autofill::first-line":wr({},xr),"&:-webkit-autofill, &:-webkit-autofill:hover, &:-webkit-autofill:focus, &:-webkit-autofill:active":wr(wr({},xr),{},{animationName:jr,boxShadow:"0 0 0 1000px $grayscaleWhite inset",transition:"background-color 1s linear 5000s",backgroundClip:"content-box"})}),"input:autofill":{background:"transparent"}}),Sr=(0,l.zo)("div",{display:"flex",justifyContent:"center",marginTop:"24px"}),Cr=(0,l.zo)("button",{position:"absolute",right:0,top:0,bottom:0,margin:"auto",background:"0 0",border:"none",padding:"0 16px",display:"none","-webkit-tap-highlight-color":"transparent",span:{color:"$coreBluesBlue"},variants:{visible:{true:{display:"block"}}}}),Pr=function(e){var t=(0,i.useRef)(null);return[(0,i.useCallback)((function(r){t.current&&t.current.removeEventListener&&t.current.removeEventListener("animationstart",e),r&&r.addEventListener("animationstart",e),t.current=r}),[e])]},Er=function(e){var t=e.submitCallback,r=e.validationRequired,n=void 0!==r&&r,o=e.errorPolicyMap,a=e.errorMessageCta,s=e.submitFormCta,c=e.updateEmailValue,l=e.country,u=(0,i.useState)({touched:{fullName:!1,signupEmail:!1,signupPassword:!1},values:{fullName:"",signupEmail:"",signupPassword:""},errors:{fullName:void 0,signupEmail:void 0,signupPassword:void 0},submitBlocked:!0}),p=u[0],d=u[1],g=(0,i.useState)(!1),h=g[0],f=g[1],m=(0,i.useState)({firstName:"",lastName:"",signupEmail:"",signupPassword:""}),v=m[0],w=m[1],x=(0,i.useState)(!1),j=x[0],O=x[1],S=!p.values.signupEmail&&!p.values.signupPassword,C=j&&S,P=function(e,t){var r=e.email,n=e.password,o=e.firstName,a=e.lastName,s=e.country,c=(0,i.useState)(!1),l=c[0],u=c[1],p=(0,i.useState)(""),d=p[0],g=p[1],h=(0,i.useState)(!1),f=h[0],m=h[1],v=(0,i.useRef)({inProgress:l,signupSuccess:f,signupError:d});return(0,i.useEffect)((function(){r&&n&&o&&a&&function(){var e=(0,b.Z)(y().mark((function e(){var t,i;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),g(""),m(!1),u(!0),e.prev=2,e.next=5,pr.signup({email:r,password:n,firstName:o,lastName:a,country:s});case 5:t=e.sent,(i=t.error)?(g(i),u(!1)):m(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),g("Oops! Something went wrong, please try signing up again."),u(!1),console.warn(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}()()}),[r,n,o,a]),(0,i.useEffect)((function(){t&&(l!==v.current.inProgress&&t({inProgress:l}),f!==v.current.signupSuccess&&t({signupSuccess:f}),d!==v.current.signupError&&t({signupError:d}),v.current={inProgress:l,signupSuccess:f,signupError:d})}),[l,f,d,t]),[l,d,f]}({email:v.signupEmail,password:v.signupPassword,firstName:v.firstName,lastName:v.lastName,country:l},t),E=(0,ie.Z)(P,2),T=E[0],I=E[1],A=p.submitBlocked,D=n&&!j&&A||!0===T,L=function(e){var t=e.id,r=e.value,n=p.errors,o=function(e){return yr[e]||null}(t);if(o){var a=wr(wr({},n),{},(0,k.Z)({},t,o(r)||void 0)),i=Object.keys(a).some((function(e){return!!a[e]}));d((function(e){return wr(wr({},e),{},{errors:a,submitBlocked:i})}))}},z=function(e,t){var r=e.id,n=e.value;d((function(e){return wr(wr({},e),{},{values:wr(wr({},e.values),{},(0,k.Z)({},r,n))})})),"signupEmail"===r&&"function"===typeof c&&c(n),(p.touched[r]||t)&&L({id:r,value:n})},B=function(e,t){var r=e.currentTarget,n=r.id,o=r.value;z({id:n,value:o},t)},F=function(e){var t=e.target,r=t.id,n=t.value;d((function(e){return wr(wr({},e),{},{touched:wr(wr({},e.touched),{},(0,k.Z)({},r,!0))})})),L({id:r,value:n})},W=function(e){var t=e.animationName,r=e.currentTarget;if(t===jr.name&&r){var n=r,o=n.id,a=n.value;z({id:o,value:a}),O(!0)}},H=Pr(W),R=(0,ie.Z)(H,1)[0],N=Pr(W),M=(0,ie.Z)(N,1)[0],_=Pr(W),Z=(0,ie.Z)(_,1)[0];return(0,Y.jsxs)(kr,{children:[I&&(0,Y.jsx)(br,{errorPolicyMap:o,error:I,cta:a}),(0,Y.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),j||!D){var t=function(e){if(e&&"string"===typeof e){var t=e.trim().replace(/\s+/g," ").split(" ");return{fullName:e,firstName:t[0],lastName:t.slice(1).join(" ")}}return{fullName:e,firstName:"",lastName:""}}(p.values.fullName);w({firstName:t.firstName,lastName:t.lastName,signupEmail:p.values.signupEmail,signupPassword:p.values.signupPassword}),L({id:"fullName",value:p.values.fullName}),L({id:"signupEmail",value:p.values.signupEmail}),L({id:"signupPassword",value:p.values.signupPassword})}},action:"#",noValidate:!0,children:[(0,Y.jsx)(Or,{error:!!p.errors.fullName,isAutoFill:C,children:(0,Y.jsx)(Qe.y,{id:"fullName",fieldLabel:"First and last name",type:"text",name:"name",ref:R,onChange:function(e){return B(e)},onBlur:F,value:p.values.fullName,error:!!p.errors.fullName,errorMessage:p.errors.fullName,placeholder:j?" ":void 0,autoComplete:"name"})}),(0,Y.jsx)(Or,{error:!!p.errors.signupEmail,isAutoFill:C,children:(0,Y.jsx)(Qe.y,{id:"signupEmail",fieldLabel:"Email address",type:"email",name:"new-user[email]",autoComplete:"email",ref:M,onChange:function(e){return B(e)},onBlur:F,value:p.values.signupEmail,error:!!p.errors.signupEmail,errorMessage:p.errors.signupEmail,placeholder:j?" ":void 0})}),(0,Y.jsx)(Or,{error:!!p.errors.signupPassword,isHidden:!C&&!h,isHiddenAutofill:C&&!h,children:(0,Y.jsx)(Qe.y,{id:"signupPassword",fieldLabel:"Password",type:h?"text":"password",name:"new-password[password]",ref:Z,autoComplete:"new-password",onChange:function(e){return B(e)},rightContent:(0,Y.jsx)(Cr,{type:"button",onClick:function(e){e.preventDefault(),f(!h)},visible:!!p.values.signupPassword,children:(0,Y.jsx)($.J3,{variant:"xs",children:h?"Hide":"Show"})}),onBlur:F,value:p.values.signupPassword,error:!!p.errors.signupPassword,errorMessage:p.errors.signupPassword})}),(0,Y.jsx)(Sr,{children:(0,Y.jsx)(Ne.z,{fullWidth:!0,disabled:!j&&D,buttonType:"submit",children:s&&s.copy||"Create account"})})]})]})};function Tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ar,Dr,Lr=function(e){var t=e.borders,r=e.socialEnabled,n=e.clickSignUpLinkHandler,o=B.sW.signUpLinkPanel,a=o.headerText,i=o.subHeaderText,l=o.cta,u=(0,s.r)().trackEvent;return(0,Y.jsx)(Ke,{headerText:r?"":a,subHeaderText:r?"":i,cta:Ir(Ir({},l),{},{href:r?"#":l.href}),ctaClickHandler:function(e){r&&n(e),u({action:c.ld.ClickCreateAccountLink,label:c.YX.ClickCreateAccountLink})},borders:t})},zr=(0,l.zo)("div",{variants:{socialEnabled:{true:{marginTop:"12px"}}}}),$r=(0,l.zo)("div",{variants:{socialEnabled:{true:{marginTop:"24px"}}}}),Br=function(e){var t=e.errorBannerCTAOnClick,r=e.submitCallback,n=e.updateEmailValue,o=e.showSignUpForm,a=e.country,i=e.borders,l=e.clickSignUpLinkHandler,u=ee(),p=u.isGoogleSignInEnabled,d=u.isAppleSignInEnabled,g=B.sW.signUp,h=g.headerText,f=g.subHeaderText,b=g.cta,m=(0,s.r)().trackEvent,y=!!p||!!d,v=i&&!p&&!d;return o?(0,Y.jsxs)(Ke,{headerText:h,subHeaderText:y?"":f,borders:v,children:[(0,Y.jsxs)(zr,{socialEnabled:y,children:[!!p&&(0,Y.jsx)(Ke,{cta:{type:"social-google",copy:"Sign up with Google"},ctaClickHandler:function(){return m({action:c.ld.ClickSignUpWithGoogle,label:c.YX.ClickSignUpWithGoogle})}}),!!d&&(0,Y.jsx)(Ke,{cta:{type:"social-apple",copy:"Sign up with Apple"},ctaClickHandler:function(){return m({action:c.ld.ClickSignUpWithApple,label:c.YX.ClickSignUpWithApple})}})]}),(0,Y.jsx)($r,{socialEnabled:y,children:(0,Y.jsx)(Er,{submitCallback:r,errorPolicyMap:B.px,submitFormCta:b,errorMessageCta:{copy:B.TJ.J,onClick:function(e){m({action:c.ld.ClickResetPassword,label:c.YX.ClickResetPassword}),t&&t(e)}},updateEmailValue:n,country:a,validationRequired:!0})})]}):(0,Y.jsx)(Lr,{borders:v,socialEnabled:y,clickSignUpLinkHandler:l})},Fr=r(4502),Wr=(null===(Ar=(0,o.default)())||void 0===Ar||null===(Dr=Ar.publicRuntimeConfig)||void 0===Dr?void 0:Dr.nextPublicRootUrl)||null,Hr=(0,l.zo)("div",{padding:"3px 0","@tablet":{padding:"68px 0"},"@desktop":{padding:"96px 0"},backgroundColor:"$grayscaleSilk",variants:{showChangePassword:{true:{padding:"52px 0","@tablet":{padding:"73px 0"},"@desktop":{padding:"97px 0"}}}}}),Rr=(0,l.zo)("div",{marginTop:"-97px",height:"97px",backgroundColor:"white"}),Nr=(0,l.zo)("div",{marginBottom:"-1000px",height:"1000px",backgroundColor:"white"}),Mr=(0,l.zo)("div",{position:"relative",padding:"48px 0"}),_r=(0,l.zo)("div",{width:"36px",height:"20px",backgroundColor:u.O.grayscaleSilk,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:u.O.grayscaleStone,span:{display:"block"}}),Zr=function(){return(0,Y.jsx)(_r,{children:(0,Y.jsx)(N.x.UIButton,{size:"small",color:"inherit",children:"OR"})})},Yr=function(){var e=(0,i.useState)(Wr),t=e[0],r=e[1],o=(0,i.useState)(!1),l=o[0],h=o[1],f=(0,i.useState)(v.Initial),b=f[0],m=f[1],y=(0,i.useState)(w.Initial),x=y[0],k=y[1],j=(0,i.useState)(!1),O=j[0],S=j[1],C=(0,i.useState)(""),P=C[0],E=C[1],T=(0,i.useState)(!1),I=T[0],A=T[1],D=(0,i.useState)(!1),L=D[0],z=D[1],$=(0,i.useState)(!1),B=$[0],F=$[1],W=(0,i.useState)(!1),H=W[0],R=W[1],N=(0,i.useState)(c.$0.LoginPage),M=N[0],_=N[1],Z=(0,p.i)().width,K=Z&&Z>=1200,U=(0,a.useRouter)(),G=(0,s.r)().trackEvent,V=U.query,X=V.isCheckout,J=V.isForgotPassword,Q=V.isChangePassword,ee=V.expP,te=V.expR,re=V.expPL,ne=V.expG,oe=V.expA,ae=V.expEC,ie=V.changePasswordError,se=V.userEmail,ce=V.country,le=!!ne||!!oe,ue=X?"Checkout Sign-in":"Sign-in";ue=J?"Forgot Password":ue,ue=Q?"Change Password":ue;var pe="/".concat(X?"checkout":"account","/forgot-password"),de=function(e){E(e)},ge=function(e){ee&&(e.preventDefault(),z(!0))},he=function(e){e.preventDefault(),k(w.Passwordless)},fe=function(e){if(e.preventDefault(),b!==v.Initial)return m(v.Initial),void k(w.Initial);var t=O?c.ld.EmailResetInstructionsSuccessBackToSignIn:c.ld.EmailResetInstructionsBackToSignIn,r=O?c.YX.EmailResetInstructionsSuccessBackToSignIn:c.YX.EmailResetInstructionsBackToSignIn,n=J?M:c.$0.AccountPage;G({action:t,label:r,category:n}),z(!1),S(!1)},be=(0,i.useCallback)((function(e){var t=e.inProgress,r=e.loginSuccess,n=e.loginError;t&&(h(t),G({action:c.ld.SubmitLoginForm,label:c.YX.SubmitLoginForm,category:M})),r&&G({action:c.ld.SubmitLoginSuccess,label:c.YX.SubmitLoginSuccess,category:M}),n&&(h(t),G({action:c.ld.SubmitLoginError,label:c.YX.SubmitLoginError,category:M}))}),[M]),me=(0,i.useCallback)((function(e){var t=e.inProgress,r=e.signupSuccess,n=e.signupError;t&&(h(t),G({action:c.ld.SubmitCreateAccountForm,label:c.YX.SubmitCreateAccountForm,category:M})),r&&G({action:c.ld.SubmitCreateAccountSuccess,label:c.YX.SubmitCreateAccountSuccess,category:M}),n&&(h(t),G({action:c.ld.SubmitCreateAccountError,label:c.YX.SubmitCreateAccountError,category:M}))}),[M]),ye=(0,i.useCallback)((function(e){var t=e.inProgress,r=e.submitSuccess,n=e.submitError,o=J?M:c.$0.AccountPage;t&&(G({action:c.ld.EmailResetInstructions,label:c.YX.EmailResetInstructions,category:o}),h(!0)),r&&(G({action:c.ld.EmailResetInstructionsSuccess,label:c.YX.EmailResetInstructionsSuccess,category:o}),h(!1),S(!0)),n&&(G({action:c.ld.EmailResetInstructionsError,label:c.YX.EmailResetInstructionsError,category:o}),h(!1))}),[M]),ve=(0,i.useCallback)((function(e){m(e)}),[M]),we=(0,s.r)({category:c.$0.LoginPage}).Track,xe=(0,s.r)({category:c.$0.CheckoutLoginPage}).Track;(0,i.useEffect)((function(){window.location.href.includes("auth.stage.warby.io")&&r("https://www.stage.warby.io")}),[r]);var ke=(0,i.useContext)(gt.p).setHeaderVariant,je=(0,i.useContext)(ht.f),Oe=je.setFooterVariant,Se=je.setIsCheckout,Ce=(0,i.useState)(!1),Pe=Ce[0],Ee=Ce[1],Te=(0,i.useState)(!0),Ie=Te[0],Ae=Te[1];(0,i.useEffect)((function(){var e=!H&&U.isReady;e&&"true"===X?(ke("minimal"),Se(!0),_(c.$0.CheckoutLoginPage),Ee(!0),Ae(!1)):e&&!X&&(_(c.$0.LoginPage),Ee(!0),Ae(!1)),e&&J&&(ke("minimal"),z(!0)),e&&Q&&(se&&"string"===typeof se&&E(se),ke("minimal"),A(!0)),e&&R(!0),Oe("minimal")}),[X,U,J,Q,se,H,ke,Oe,Se,Ee,z,A,R]),(0,i.useEffect)((function(){I||L||b===v.Error||b===v.Success?(ke("minimal"),Oe("disabled")):(ke(X?"minimal":"normal"),Se(!!X),Oe("minimal"))}),[I,L,b,X,ke,Oe,Se]),(0,i.useEffect)((function(){Pe&&M&&G({category:M,action:c.ld.LoginPageImpression,label:c.YX.LoginPageImpression})}),[Pe,M]);var De=function(){Ae(!1)},Le=X?xe:we,ze=ee&&(I||L),$e=re&&x===w.Passwordless&&b!==v.Error,Be=re&&b===v.Error,Fe=!ze&&!$e&&!Be,We=function(e){return(0,Y.jsx)(ur,{passwordResetLink:pe,errorBannerCTAOnClick:re?he:ge,clickPasswordReset:ge,submitCallback:be,updateEmailValue:de,borders:e,showSignInForm:!(le&&!X)||!B,clickSignInLinkHandler:function(e){le&&(e.preventDefault(),F(!1))}})},He=function(){return(0,Y.jsx)(Ut,{})},Re=function(e){return(0,Y.jsx)(Br,{showSignUpForm:le&&!X?B:!!te,submitCallback:me,updateEmailValue:de,errorBannerCTAOnClick:ge,country:"string"===typeof ce?ce:"US",borders:e,clickSignUpLinkHandler:function(e){le&&(e.preventDefault(),F(!0))}})},Ne=Re,Me=We;return le?le&&X?(Ne=He,Me=We):le&&!B?(Ne=We,Me=Re):le&&B&&(Ne=Re,Me=We):X?(Ne=He,Me=We):!X&&K?(Ne=Re,Me=We):X||K||(Ne=We,Me=Re),(0,Y.jsxs)(q,{isPasswordlessLinkEnabled:!!re,isGoogleSignInEnabled:!!ne,isAppleSignInEnabled:!!oe,useNewCopyForPostPasswordlessLaunch:!!ae,children:[(0,Y.jsxs)(n.default,{children:[(0,Y.jsxs)("title",{children:[ue," | Warby Parker"]}),(0,Y.jsx)("meta",{property:"og:title",content:"{pageTitle} | Warby Parker"},"title"),(0,Y.jsx)("link",{rel:"icon",href:"/favicon.ico"}),t&&(0,Y.jsx)("base",{href:t}),(0,Y.jsx)("style",{children:"body {\n              background-color: ".concat(u.O.grayscaleSilk,";\n          }")})]}),Ie&&(0,Y.jsx)(Rr,{onClick:De}),(0,Y.jsx)(d.f,{isLoading:b===v.InProgress||l||!Pe,loadingOpacity:0,children:Pe&&(0,Y.jsx)(Le,{children:(0,Y.jsxs)(Hr,{showChangePassword:!!ze,children:[(0,Y.jsx)(g.k,{children:(0,Y.jsxs)(g.M,{columns:{default:[1,4],tablet:[3,6],desktop:[4,9]},children:[ze&&(0,Y.jsx)(Yt,{submitCallback:ye,isForgotPassword:L,clickBackToSignIn:fe,clickBackToProfile:function(){var e=O?c.ld.EmailResetInstructionsSuccessBackToProfile:c.ld.EmailResetInstructionsBackToProfile,t=c.YX.EmailResetInstructionsSuccessBackToProfile;G({action:e,label:t,category:c.$0.AccountPage})},changePasswordSuccess:O,prepopulateValue:P,initialError:ie?"default":void 0}),$e&&(0,Y.jsx)(it,{email:P,clickBackToSignIn:fe,submitCallback:ve}),Be&&(0,Y.jsx)(dt,{clickBackToSignIn:fe,errorKey:"genericError"})]})}),Fe&&le&&(0,Y.jsxs)(g.k,{children:[(0,Y.jsx)(g.M,{columns:{default:[1,4],tablet:[3,6],desktop:[5,8]},children:Ne(!1)}),(0,Y.jsx)(g.M,{columns:{default:[1,4],tablet:[3,6],desktop:[5,8]},children:(0,Y.jsxs)(Mr,{children:[le&&(0,Y.jsx)(Zr,{}),(0,Y.jsx)(Fr.i,{color:"silver",type:"inset",padded:!1})]})}),(0,Y.jsx)(g.M,{columns:{default:[1,4],tablet:[3,6],desktop:[5,8]},children:Me(!0)})]}),Fe&&!le&&(0,Y.jsxs)(g.k,{children:[(0,Y.jsx)(g.M,{columns:{default:[1,4],tablet:[2,7],desktop:[1,6]},children:Ne(!1)}),(0,Y.jsx)(g.M,{columns:{default:[1,4],tablet:[2,7],desktop:[7,12]},children:Me(!0)})]})]})})}),Ie&&(0,Y.jsx)(Nr,{onClick:De})]})}},3883:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth0/login",function(){return r(6168)}])},9008:function(e,t,r){e.exports=r(639)}},function(e){e.O(0,[365,774,888,179],(function(){return t=3883,e(e.s=t);var t}));var t=e.O();_N_E=t}]);