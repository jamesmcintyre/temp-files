(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{2653:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return c},service:function(){return d},NextPreviewPage:function(){return p}});var i=n(7294),r=n(497),a=n(9938),o=n(2677),s=n(5893),c=!0,d="WarbyCMS",u=function(e){var t=e.onClick,n=e.children;return(0,s.jsx)(a.z,{css:{display:"none",position:"absolute",top:"5%",right:"20px",transition:"all 0.4s ease-in-out 0s",opacity:.5,transform:"scale(0.9, 0.9)","&:hover":{opacity:1,transform:"scale(1, 1)"}},onClick:t,children:n})},l=(0,o.zo)("div",{position:"relative","&:hover > button":{display:"block"}}),p=function(){var e=(0,i.useState)(null),t=e[0],n=e[1],a=function(e){if(function(e){var t=e.data;return"object"===typeof t&&("page"===t.type||"widget"===t.type)&&t.service===d&&"admin"===t.client}(e)){var t=e.data,i=t.type,r=t.editable,a=void 0!==r&&r,o="page"===e.data.type?e.data.payload.widgets:[e.data.payload];n({type:i,widgets:o,editable:a})}};return(0,i.useEffect)((function(){window.addEventListener("message",a);return window.parent.postMessage({client:"preview",service:"WarbyCMS",type:"ready"},"*"),function(){return window.removeEventListener("message",a)}}),[]),t?(0,s.jsx)(s.Fragment,{children:t.widgets.map((function(e){return(0,s.jsxs)(l,{children:[t.editable&&(0,s.jsx)(u,{onClick:function(){return function(e){var t={client:"preview",payload:{widgetId:e},service:"WarbyCMS",type:"edit"};window.parent.postMessage(t,"*")}(e.id)},children:"Edit"}),(0,r.G)(e)]},e.id)}))}):null};t.default=p},1043:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/next-preview",function(){return n(2653)}])}},function(e){e.O(0,[511,497,774,888,179],(function(){return t=1043,e(e.s=t);var t}));var t=e.O();_N_E=t}]);